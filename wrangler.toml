name = "portfolio-worker"
main = "src/index.ts"
compatibility_date = "2025-11-15"

type = "javascript"

[build]
command = "pnpm run build"
cwd = "portfolio"
watch_dir = "src"

[env]
NEXTAUTH_SECRET = "your-secret"
ADMIN_PASSWORD_HASH = "your-hash"
TOTP_SECRET = "your-2fa-secret"
ALLOWED_IPS = "your-home-ip,cloudflare-ips"
NEXT_TELEMETRY_DISABLED = "1"

[kv_namespaces]
[[kv_namespaces]]
binding = "MY_KV"
id = "your-kv-id"
preview_id = "your-preview-kv-id"

[site]
bucket = "portfolio/.next"
entry-point = "portfolio"

[durable_objects]
[[durable_objects]]
name = "MY_OBJECT"
class_name = "MyDurableObject"
script_name = "portfolio-worker"