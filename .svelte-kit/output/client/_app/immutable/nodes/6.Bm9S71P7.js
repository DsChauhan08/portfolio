import"../chunks/Bzak7iHL.js";import{d as F,p as G,ah as J,h as y,bi as q,g as t,i as Y,bj as K,j as H,x as Z,a as h,b as Q,bk as $,f as x,c as k,s as v,r as p,t as E,bl as U,q as ee,$ as te}from"../chunks/DopmzzQP.js";import{s as N}from"../chunks/uADJdpBP.js";import{i as L}from"../chunks/DvTFAjPq.js";import{a as ae,e as re}from"../chunks/B6aMcIki.js";import{h as oe}from"../chunks/CiKztQby.js";import{s as g}from"../chunks/BGy_o2Tx.js";import{b as ne}from"../chunks/BWQCvJqE.js";const se=async()=>{const e=Object.entries(Object.assign({})).map(([i,l])=>{var w;const b=((w=i.split("/").pop())==null?void 0:w.replace(/\.[^/.]+$/,""))||"";return{id:b,src:l,alt:b.replace(/[-_]/g," "),path:i}});return e.sort((i,l)=>l.id.localeCompare(i.id)),{images:e}},ie=!0,Ie=Object.freeze(Object.defineProperty({__proto__:null,load:se,prerender:ie},Symbol.toStringTag,{value:"Module"}));var ce=x('<div class="loading svelte-11o8oez"><div class="spinner svelte-11o8oez"></div></div>'),le=x('<source type="image/avif"/>'),de=x('<source type="image/webp"/>'),ue=x('<div class="lightbox svelte-11o8oez" role="button" tabindex="-1"><button class="text-accent absolute top-1/2 left-1 z-[10000] -translate-y-1/2 cursor-pointer overflow-visible border-none bg-transparent px-4 py-8 text-3xl transition-transform duration-200 hover:scale-110 md:left-4 md:px-8 md:py-16 md:text-5xl" aria-label="Previous image"><span class="block scale-y-[1.5] transition-transform duration-500">‹</span></button> <!> <picture><!> <!> <img class="svelte-11o8oez"/></picture> <button class="text-accent absolute top-1/2 right-1 z-[10000] -translate-y-1/2 cursor-pointer overflow-visible border-none bg-transparent px-4 py-8 text-3xl transition-transform duration-200 hover:scale-110 md:right-4 md:px-8 md:py-16 md:text-5xl" aria-label="Next image"><span class="block scale-y-[1.5] transition-transform duration-500">›</span></button> <div class="counter svelte-11o8oez"><span class="text-accent"> </span> </div></div>');function ve(C,e){G(e,!0);let i=Z(()=>e.currentIndex>=0&&e.currentIndex<e.images.length?e.images[e.currentIndex]:null),l=q(!1),b=q(null),w=0,M=0;function O(a){a.target===a.currentTarget&&e.onclose()}function I(a){a.key==="Escape"?e.onclose():a.key==="ArrowLeft"?e.onprev():a.key==="ArrowRight"&&e.onnext()}function z(){y(l,!1)}J(()=>{e.currentIndex,y(l,!0)}),J(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow=""})),J(()=>{const a=t(b);if(!a)return;const m=u=>{u.touches.length>0&&(w=u.touches[0].clientX)},n=u=>{u.touches.length>0&&(M=u.touches[0].clientX)},c=()=>{const u=w-M;Math.abs(u)>50&&(u>0?e.onnext():e.onprev())};return a.addEventListener("touchstart",m),a.addEventListener("touchmove",n),a.addEventListener("touchend",c),()=>{a.removeEventListener("touchstart",m),a.removeEventListener("touchmove",n),a.removeEventListener("touchend",c)}});var T=Y();K("keydown",$,I);var B=H(T);{var P=a=>{var m=ue();m.__click=O,m.__keydown=I;var n=k(m);n.__click=function(...s){var r;(r=e.onprev)==null||r.apply(this,s)};var c=v(n,2);{var u=s=>{var r=ce();h(s,r)};L(c,s=>{t(l)&&s(u)})}var f=v(c,2);let j;var S=k(f);{var X=s=>{var r=le();E(()=>g(r,"srcset",t(i).src.sources.avif)),h(s,r)};L(S,s=>{var r;(r=t(i).src.sources)!=null&&r.avif&&s(X)})}var A=v(S,2);{var _=s=>{var r=de();E(()=>g(r,"srcset",t(i).src.sources.webp)),h(s,r)};L(A,s=>{var r;(r=t(i).src.sources)!=null&&r.webp&&s(_)})}var o=v(A,2);p(f);var d=v(f,2);d.__click=function(...s){var r;(r=e.onnext)==null||r.apply(this,s)};var R=v(d,2),D=k(R),V=k(D,!0);p(D);var W=v(D);p(R),p(m),ne(m,s=>y(b,s),()=>t(b)),E(()=>{j=ae(f,1,"svelte-11o8oez",null,j,{loading:t(l)}),g(o,"src",t(i).src.img.src),g(o,"alt",t(i).alt),N(V,e.currentIndex+1),N(W,` / ${e.images.length??""}`)}),K("load",o,z),U(o),h(a,m)};L(B,a=>{t(i)&&a(P)})}h(C,T),Q()}F(["click","keydown"]);var me=x('<meta name="description" content="A collection of my photography."/>'),fe=x('<source type="image/avif"/>'),ge=x('<source type="image/webp"/>'),he=x('<picture class="group mb-4 block cursor-pointer break-inside-avoid overflow-hidden" role="button" tabindex="0"><!> <!> <img class="block h-auto w-full opacity-0 transition-opacity duration-200 group-hover:opacity-80" loading="eager"/></picture>'),be=x('<main class="px-6 pt-0 pb-16 md:px-16"><h1 class="mb-2 text-2xl font-semibold">pics <span aria-label="count of photos" class="text-subtext0 inline-block align-baseline text-sm leading-none font-normal"> </span></h1> <p class="text-subtext0 text-sm">photos from around Toronto and beyond. Captured on a Pixel 6, Pixel 8 or a Canon T7</p> <br/> <div class="columns-1 break-inside-avoid gap-x-4 md:columns-2 xl:columns-3"></div></main> <!>',1);function ze(C,e){G(e,!0);let i=q(!1),l=q(0);function b(n){y(l,n,!0),y(i,!0)}function w(){y(l,(t(l)-1+e.data.images.length)%e.data.images.length)}function M(){y(l,(t(l)+1)%e.data.images.length)}var O=be();oe("153f9re",n=>{var c=me();ee(()=>{te.title="Pics | Jason Cameron"}),h(n,c)});var I=H(O),z=k(I),T=v(k(z)),B=k(T);p(T),p(z);var P=v(z,6);re(P,23,()=>e.data.images,n=>n.id,(n,c,u)=>{var f=he();f.__click=()=>b(t(u)),f.__keydown=o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),b(t(u)))};var j=k(f);{var S=o=>{var d=fe();E(()=>g(d,"srcset",t(c).src.sources.avif)),h(o,d)};L(j,o=>{var d;(d=t(c).src.sources)!=null&&d.avif&&o(S)})}var X=v(j,2);{var A=o=>{var d=ge();E(()=>g(d,"srcset",t(c).src.sources.webp)),h(o,d)};L(X,o=>{var d;(d=t(c).src.sources)!=null&&d.webp&&o(A)})}var _=v(X,2);p(f),E(()=>{g(_,"src",t(c).src.img.src),g(_,"alt",t(c).alt),g(_,"width",t(c).src.img.w),g(_,"height",t(c).src.img.h)}),K("load",_,o=>{o.currentTarget.style.opacity="1"}),U(_),h(n,f)}),p(P),p(I);var a=v(I,2);{var m=n=>{ve(n,{get images(){return e.data.images},get currentIndex(){return t(l)},onclose:()=>y(i,!1),onprev:w,onnext:M})};L(a,n=>{t(i)&&n(m)})}E(()=>N(B,`[${e.data.images.length??""}]`)),h(C,O),Q()}F(["click","keydown"]);export{ze as component,Ie as universal};
